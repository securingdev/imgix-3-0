(function t(r,e,i){function s(n,o){if(!e[n]){if(!r[n]){var u=typeof require=="function"&&require;if(!o&&u)return u(n,!0);if(a)return a(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var h=e[n]={exports:{}};r[n][0].call(h.exports,function(t){var e=r[n][1][t];return s(e?e:t)},h,h.exports,t,r,e,i)}return e[n].exports}var a=typeof require=="function"&&require;for(var n=0;n<i.length;n++)s(i[n]);return s})({1:[function(t,r,e){var i=t("./util.js"),s=t("./targetWidths.js");var a=function(){function t(t,r){this.el=t;this.settings=r||{};if(!this.el){throw new Error("ImgixTag must be passed a DOM element.")}if(this.el.hasAttribute("ix-initialized")&&!this.settings.force){return}this.ixPathVal=t.getAttribute("ix-path");this.ixParamsVal=t.getAttribute("ix-params");this.ixSrcVal=t.getAttribute("ix-src");this.ixHostVal=t.getAttribute("ix-host")||imgix.config.host;if(this.ixPathVal&&!this.ixHostVal){throw new Error("You must set a value for `imgix.config.host` or specify an `ix-host` attribute to use `ix-path` and `ix-params`.")}this.baseParams=this._extractBaseParams();this.baseUrl=this._buildBaseUrl();this.baseUrlWithoutQuery=this.baseUrl.split("?")[0];this.el.setAttribute(this.settings.sizesAttribute,this.sizes());this.el.setAttribute(this.settings.srcsetAttribute,this.srcset());if(this.el.nodeName=="IMG"){this.el.setAttribute(this.settings.srcAttribute,this.src())}this.el.setAttribute("ix-initialized","ix-initialized")}t.prototype._extractBaseParams=function(){var t;if(this.ixPathVal){t=JSON.parse(this.ixParamsVal)||{};for(var r in t){if(r.substr(-2)==="64"){t[r]=i.encode64(t[r])}}}else{var e=this.ixSrcVal.lastIndexOf("?"),s=this.ixSrcVal.substr(e+1),a=s.split("&");t={};for(var n=0,o;n<a.length;n++){o=a[n].split("=");t[o[0]]=o[1]}}return t};t.prototype._buildBaseUrl=function(){if(this.ixSrcVal){return this.ixSrcVal}var t=this.ixPathVal,r=imgix.config.useHttps?"https":"http",e=r+"://"+this.ixHostVal,i=this.ixHostVal.substr(-1)==="/",s=t[0]==="/";if(i&&s){e+=t.substr(1)}else if(!i&&!s){e+="/"+t}else{e+=t}e+="?";var a=[],n;for(var o in this.baseParams){n=this.baseParams[o];a.push(encodeURIComponent(o)+"="+encodeURIComponent(n))}e+=a.join("&");return e};t.prototype._buildSrcsetPair=function(t){var r=i.shallowClone(this.baseParams);r.w=t;if(this.baseParams.w!=null&&this.baseParams.h!=null){r.h=Math.round(t*(this.baseParams.h/this.baseParams.w))}var e=this.baseUrlWithoutQuery+"?",s,a=[];for(var n in r){s=r[n];a.push(n+"="+s)}e+=a.join("&");return e+" "+t+"w"};t.prototype.src=function(){return this.baseUrl};t.prototype.srcset=function(){var t=[];for(var r=0;r<s.length;r++){t.push(this._buildSrcsetPair(s[r]))}return t.join(", ")};t.prototype.sizes=function(){var t=this.el.getAttribute("sizes");if(t){return t}else{return"100vw"}};return t}();r.exports=a},{"./targetWidths.js":3,"./util.js":4}],2:[function(t,r,e){(function(r){var e=t("./ImgixTag.js"),i=t("./util.js");var s=["img[ix-src]","source[ix-src]","img[ix-path]","source[ix-path]"].join(",");var a={force:false,srcAttribute:"src",srcsetAttribute:"srcset",sizesAttribute:"sizes"};r.imgix={init:function(t){var r=document.querySelectorAll(s),n=i.shallowClone(a);i.extend(n,t||{});for(var o=0,u;o<r.length;o++){new e(r[o],n)}},config:{host:null,useHttps:true}};i.domReady(function(){var t=document.querySelector('meta[property="ix:host"]'),e=document.querySelector('meta[property="ix:useHttps"]');if(t){r.imgix.config.host=t.getAttribute("content")}if(e){var i=e.getAttribute("content")==="true";r.imgix.config.useHttps=i?true:false}r.imgix.init()})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./ImgixTag.js":1,"./util.js":4}],3:[function(t,r,e){var i=t("./util.js");var s=2560*2;var a=100;var n={cssWidth:320,dpr:1};var o={cssWidth:320,dpr:2};var u={cssWidth:375,dpr:2};var c={cssWidth:360,dpr:4};var h={cssWidth:414,dpr:3};var d={cssWidth:736,dpr:3};var l={cssWidth:412,dpr:3.5};var p={cssWidth:690,dpr:3.5};var f={cssWidth:432,dpr:2.5};var v={cssWidth:768,dpr:2.5};var x={cssWidth:360,dpr:3};var g={cssWidth:640,dpr:3};var m={cssWidth:360,dpr:4};var b={cssWidth:640,dpr:4};var W={cssWidth:768,dpr:1};var w={cssWidth:1024,dpr:1};var y={cssWidth:768,dpr:2};var A={cssWidth:1024,dpr:2};var P={cssWidth:1024,dpr:2};var V={cssWidth:1366,dpr:2};var j={cssWidth:576,dpr:1};var S={cssWidth:576,dpr:2};var U={cssWidth:720,dpr:1};var _={cssWidth:720,dpr:2};var q={cssWidth:940,dpr:1};var z={cssWidth:940,dpr:2};var C={cssWidth:1140,dpr:1};var H={cssWidth:1140,dpr:2};var I=[n,o,u,c];var E=[W,w,y,A,P,V];var O=[h,d,l,p,f,v,x,g,m,b];var R=[j,S,U,_,q,z,C,H];function M(){return I.concat(O,E,R)}function T(){var t,r,e;var i=M();var s=[];for(r=0,e=i.length;r<e;r++){t=i[r];s.push(t.cssWidth*t.dpr)}return s}function B(){var t=[];for(var r=a;r<s;r+=a){t.push(r)}t.push(s);return t}function D(){var t=typeof window!=="undefined",r=T().concat(B()),e=[],n=t?window.devicePixelRatio:1,o=t?Math.max(window.screen.availWidth,window.screen.availHeight):s,u=a,c=t?o*n:s;var h,d;for(d=0;d<r.length;d++){h=r[d];if(h<=c&&h>=u){e.push(h)}}e.push(c);return i.uniq(e).sort(function(t,r){return t-r})}r.exports=D()},{"./util.js":4}],4:[function(t,r,e){r.exports={compact:function(t){var r=[];for(var e=0;e<t.length;e++){t[e]&&r.push(t[e])}return r},shallowClone:function(t){var r={};for(var e in t){r[e]=t[e]}return r},extend:function(t,r){for(var e in r){t[e]=r[e]}return t},uniq:function(t){var r={},e=[],i;for(i=0;i<t.length;i++){if(!r[t[i]]){r[t[i]]=true;e.push(t[i])}}return e},encode64:function(t){var r=unescape(encodeURIComponent(t)),e=btoa(r),i=e.replace(/\+/g,"-");i=i.replace(/\//g,"_").replace(/\//g,"_").replace(/\=+$/,"");return i},decode64:function(t){var r=t.replace(/-/g,"+").replace(/_/g,"/"),e=atob(r),i=decodeURIComponent(escape(e));return i},domReady:function(t){if(document.readyState==="complete"){setTimeout(t,0)}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",t,false)}else{document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){t()}})}}}},{}]},{},[2]);
